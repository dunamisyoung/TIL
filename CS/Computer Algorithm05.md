# 컴퓨터 알고리즘 기초 5강 합병정렬 - T아카데미

---

## 1. 합병정렬 알고리즘

합병정렬은 앞에서 공부했던 정렬문제와 동일하게 정렬문제를 푸는 알고리즘이다.

### 정렬문제

입력으로 n개의 숫자를 받았을때 n개의 숫자들을 오름차순 혹은, 내림차순으로 재배열하는것 즉, 이전의 숫자가 다음의 숫자보다 작거나 같은 방식으로 재배열되는것을 뜻한다.

### 합병 정렬

- **합병**을 이용한 알고리즘을 의미
  합병 - 두개의 어떤 내용을 합치는것을 뜻한다.

즉, 어떠한 두개의 내용을 합쳐 정렬하는것을 하는것을 의미하며

어떠한 두개의 내용을 배열이라고 한다면, 배열을 합쳐 정렬을 하는것을 말하는것이다.

예를 들어보자, 아래와 같이 A 배열과 B 배열을 합쳐서 C 배열을 만들어 낸다고 했을때, 먼저 A 배열을 살펴보면 작은수부터 큰수까지 차례대로 정렬되어있다. 마찬가지로 B배열도 작은 수부터 큰수까지 잘정렬되어있는데, 이처럼 **합병정렬에서의 중요 포인트는 정렬되어 있는 각각의 배열이다.**

```jsx
A[(1, 5, 6, 8)] + B[(2, 4, 7, 9)] = C[(1, 2, 4, 5, 6, 7, 8, 9)];
```

이는, 이미 정렬되어있는 배열을 서로 합칠때는 배열안에 모든수를 비교하지 않고 각 배열의 가장 왼쪽에 정렬되어있는 수끼리 비교하여 더 작은수를 새로운 배열인 C에 집어 넣으면 되기 떄문이다.

### 정확성증명 - 합병정렬

예를 들어 1과 2를 비교했을때 더 작은수는 1이므로 새로운 배열인 C에 가장 왼쪽에 위치한다. 다음으로 5와 2를 비교했을떄 더 작은수는 2이므로 새로운배열인 C에 가장왼쪽에 위치하게된다. 이와같은 행위를 반복하면 정렬된 새로운 배열인 C를 만들수있다.

![Merge](https://user-images.githubusercontent.com/66991380/108385943-7ff9eb00-724f-11eb-8228-2f410dd0eff4.jpg)

### 합병 정렬의 수행시간

```jsx
두개의 정렬된 배열의 길이를 각각 n₁ n₂ 이라고 하면 수행시간은 θ(n₁ + n₂)
```

### 주요함수 : compare(비교) 와 move(이동)

- 이동횟수 - 각 배열에 있는 Item의 갯수 (n₁ + n₂)
- 비교횟수 - n₁ + n₂ 보다 작거나 같다. ( 배열A의 item.length + 배열B의 item.length )
- 비교횟수 + 이동횟수 ≤ 2(n₁ + n₂)
- 최종적으로 θ(n₁ + n₂) 를 나타낸다.

### 합병 정렬에서 사용되는 스킬

**A divide-and-conquer approach**

크기가 커서 풀기 어려운 하나의 문제를 크기가 작아서 풀기 쉬운 여러개의 문제로 바꾸어 푸는방법

- **Divide**
- n keys를 두개의 n/2 keys로 나눈다. ( n/2, n/4, n/8, n/16, n/32 ···)
  n개의 key는 풀수 없는 문제이지만 2개의 n개의 key로 쪼갠다. 그리고는 다시 n/4, n/8 ··· 우리가 쉽게 풀수있는 상태까지 쪼개어준다.
- **Conquer**
- 합병 정렬을 사용하여 두개의 배열을 정렬한다.
- **Combine**
- 두개의 정렬된 배열을 하나로 합친다.

**합병정렬에서 Divde의 역할은 n개의 입력이 들어왔을때 1개가 될때까지 쪼개면된다.**

![divide conquer](https://user-images.githubusercontent.com/66991380/108385955-82f4db80-724f-11eb-9a5d-6932625d4ae8.jpg)

**합병정렬에서 Conquer와 Combine의 역할은 각각 1개씩 정렬된 배열을 하나의 새로운 배열로 비교해서 합치면 된다.**

![Conquer Combine](https://user-images.githubusercontent.com/66991380/108385963-84be9f00-724f-11eb-9e95-e493a2ab674c.jpg)

즉, 5와 2를 비교했을때 작은수는 2이므로 새로운 배열의 왼쪽에 넣고 나머지 5를 넣어주고, 또 4와 7을 비교해서 4를 새로운 배열의 왼쪽에 넣고 나머지 7을 넣어주고 그렇게 새롭게 정렬된 2개의 배열을 다시비교해서 2와 4를 비교했을떄 더 작은수인 2를 새로운배열에 넣어주고, 4와 5를 비교해서 더 작은수인 4를 새로운배열에, 5를, 7을 이런식으로 반복해서 작업하다보면 정렬된 새로운 배열을 만들수 있다.

### 합병정렬의 수행시간

- Divide : θ(1)
- 배열을 나누는 과정으로 상수시간에 수행된다.
- Conquer : 2T(n/2)
- 두개의 하위 배열의 문제를 푸는과정
- Combine : θ(n)
- θ(n) 시간에 두개의 정렬된 배열을 하나로 합치는 과정

### 합병정렬의 알고리즘

2개의 배열을 가지고 비교를 할때 가장 작은 값들을 왼쪽에 위치한다는 성질을 가지고 새로운 배열을 만들어 내는 알고리즘 θ (n lgn)
